extends ../../mixins/layout

block title
  title Articles - Code Wars

block header
  +header()
block body
  .main-container
    +flash
    h1 Exercices
    hr.separator
    .exercises-list
      .row
        .col-2.student-header-col
          h4.student-header-element Nom
        .col-2.student-header-col
          h4.student-header-element Difficulté
        .col-2.student-header-col
          h4.student-header-element Argent
        .col-2.student-header-col
          h4.student-header-element Points
        .col-2.student-header-col
          h4.student-header-element Semaine
        .col.d-flex.justify-content-end
          a(href='/management/exercises/create')
            button.btn.btn-yellow#Btn
              p
                i.fas.fa-plus-square
                | Nouvel Exercice
      each exercise in exercises
        .row.student-row.box-shadow.mb-4
          .col-lg-3.col-sm-4
            p.student-row-element #{exercise.name}
          .col-lg-1.col-sm-4
            p.student-row-element #{exercise.difficulty}
          .col-lg-2.col-sm-4
            p.student-row-element #{format('decimal', exercise.cash_reward, 0, 0)}
          .col-lg-2.col-sm-3
            p.student-row-element #{format('decimal', exercise.point_reward, 0, 0)}
          .col-lg-2.col-sm-3
            p.student-row-element Semaine #{exercise.number}
          .col.d-flex.justify-content-end
            .row.d-flex.align-items-center
              a.col(href='/management/exercises/' + exercise.id + '/edit')
                i.fas.fa-edit.student-icons
              a.col(data-bs-toggle="modal" data-bs-target="#exerciseDeleteModal")
                i.fas.fa-trash.student-icons
    h1.mt-5 Semaines
    hr.separator
    .weeks
      .row
        .col-3.student-header-col
          h4.student-header-element Date de début
        .col-2.student-header-col
          h4.student-header-element Numéro
        .col-2.student-header-col
          h4.student-header-element Activé
        .col.d-flex.justify-content-end
          a(href='/management/week/create')
            button.btn.btn-yellow#Btn
              p
                i.fas.fa-plus-square
                | Nouvelle semaine
      each week in weeks
        .row.student-row.box-shadow.mb-4
          .col-3
            p.student-row-element #{format('date', week.start_date)}
          .col-2
            p.student-row-element Semaine #{week.number}
          .col-2
            p.student-row-element #{week.is_active ? 'Oui' : 'Non'}
          .col.d-flex.justify-content-end
            .row.d-flex.align-items-center
              a.col(href='/management/week/' + week.id + '/activate')
                i(class=week.is_active ? 'fa-eye-slash' : 'fa-eye').fas.student-icons
              a.col(data-bs-toggle="modal" data-bs-target="#weekDeleteModal")
                i.fas.fa-trash.student-icons

  +confirmationModal("Suppression d'exercice" , 'Voulez-vous vraiment supprimer cet exercice ?',
    '/management/exercises/' + exercise.id + '/delete', 'exerciseDeleteModal')
  +confirmationModal("Suppression de semaine" , 'Voulez-vous vraiment supprimer cette semaine ?',
    '/management/week/' + week.id + '/delete', 'weekDeleteModal')
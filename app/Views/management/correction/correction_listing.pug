extends ../../mixins/layout

block title
  title Correction - Code Wars

block header
  +header()

block body
  +flash
  .row.mission-header
    h1.mb-3 Correction
  .container
    if corrections == null
      h4.text-muted.text-center Aucun exercice à corriger pour l'instant...
    each correction, index in corrections
      h2 #{index}
      hr
      .exercises-list
        .row
          .col-2.text-center.d-flex.align-items-end.student-header-col
            h6.mb-0.w-100 Nom de l'exercice
          .col-2.text-center.d-flex.align-items-end.student-header-col
            h6.mb-0.w-100 Date de remise
          .col-4.text-center.d-flex.align-items-end.student-header-col
            h6.mb-0.w-100 Ajouter un commentaire
          .col-2.text-center.d-flex.align-items-end.student-header-col
            h6.mb-0.w-100 Marquer corrigé
          .col-2.text-center.d-flex.align-items-end.student-header-col
            h6.mb-0.w-100 Télécharger
      each exercise, index in correction
        .row.student-row.box-shadow.mb-4
          .col-2
            a(href="/exercises/" + exercise.exercise_id).text-dark
              p.student-row-element #{exercise.name}
          .col-2.text-center.d-flex.align-items-end
            p.student-row-element #{exercise.submit_date}
          .col-4
            button(data-toggle="modal" data-target="#comment-modal-" + index).open-commentModal.bg-transparent.btn
              i.fas.fa-comment-medical.student-icons
          .col-2
            a(href='/management/correction/correct/' + exercise.student_da + "/" + exercise.id)
              i.fas.fa-edit.student-icons
          .col-2
            a(href='/management/correction/download/' + exercise.id)
              i.fas.fa-download.student-icons
        .modal.fade(id=("comment-modal-" + index) tabindex="-1" role="dialog" aria-labelledby="addModalLabel" aria-hidden="true")
          .modal-dialog(role="document")
            .modal-content
              .modal-header
                h5.modal-title(id="addModalLabel") Add a service
                button.close(type="button" data-dismiss="modal" aria-label="Close")
                  span(aria-hidden="true") &times;
              .modal-body
                form(method="post", action="/password/addService")
                  .form-group
                    label.form-label() Username
                    input.form-control(name="username" placeholder="Karn123")
                  .form-group
                    label.form-label Password
                    input.form-control(name="password" type="password" placeholder="**************")
                  .form-group
                    label.form-label Service
                    select.form-select(name="service")
                  .form-group
                    button.btn.btn-secondary(type="button"  data-dismiss="modal") Close
                    button.btn.btn-primary(type="submit") Save changes
block script
  script(src="/javascripts/vendor/bootstrap.min.js")
  script(src="/javascripts/vendor/jquery-3.5.1.min.js")

